    def test_to_csv(self):
        data = {
            'tgw-0123456789abcdef0': {
                'Owner': '123456789012',
                'State': 'available',
                'Attachments': [{
                    'AttachmentId': 'tgw-attach-0123456789abcdef0',
                    'ResourceType': 'vpc',
                    'Owner': '123456789012',
                    'Routes': [{
                        'DestinationCidrBlock': '10.0.0.0/16',
                        'TargetType': 'vpc',
                        'PrefixList': 'pl-0123456789abcdef0'
                    }]
                }]
            }
        }
        acc_name = 'test_account'
        to_csv(data, acc_name)
        expected_path = Path(f'output/{acc_name}/tgw_output-{acc_name}.csv')
        self.assertTrue(expected_path.exists())

        df = pd.read_csv(expected_path)
        self.assertFalse(df.empty)
        self.assertEqual(df.iloc[0]['TGW id'], 'tgw-0123456789abcdef0')

    def test_generate_markdown(self):
        data = {
            'tgw-0123456789abcdef0': {
                'Owner': '123456789012',
                'State': 'available',
                'Attachments': [{
                    'AttachmentId': 'tgw-attach-0123456789abcdef0',
                    'ResourceType': 'vpc',
                    'Owner': '123456789012',
                    'Routes': [{
                        'DestinationCidrBlock': '10.0.0.0/16',
                        'TargetType': 'vpc',
                        'PrefixList': 'pl-0123456789abcdef0'
                    }]
                }]
            }
        }
        acc_name = 'test_account'
        output_md_path = Path(f'output/{acc_name}/tgw_output-{acc_name}.md')
        generate_markdown(data, output_md_path)

        self.assertTrue(output_md_path.exists())

        with open(output_md_path, 'r') as f:
            content = f.read()

        self.assertIn('TGW id: tgw-0123456789abcdef0', content)
        self.assertIn('| Destination CIDR | Target Type | Prefix List |', content)
        self.assertIn('| 10.0.0.0/16 | vpc | pl-0123456789abcdef0 |', content)

if __name__ == '__main__':
    unittest.main()
